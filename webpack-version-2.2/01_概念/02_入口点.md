[入口点](https://webpack.js.org/concepts/entry-points/)

# 入口点

就像我们在介绍中介绍的，在webpack配置中，有多种方法定义`entry`属性。我们将向你介绍`entry`属性在配置中的多种方式，另外也会解释为什么这对你有用。

## 单入口语法

用法：`entry: string|Array<string>`

**webpack.config.js**

```
const config = {
    entry: './path/to/my/entry/file.js'
};

module.exports = config;
```

在`entry`中的单入口语法是简写形式：

```
const config = {
    entry: {
        main: './path/to/my/entry/file.js'
    }
};
```

--------------------------------------------------------------------------------

当你传递数组到`entry`时会发生什么？传递文件路径数组到`entry`属性将创建"多入口点"。这对于你想要注入多依赖文件并且在一个"分块"中图解他们的依赖是有用的。

--------------------------------------------------------------------------------

如果你正在为你的应用程序或者或者入口寻找快速设置一个webpack配置的方法，这是一个不错的选择。但是这个语法并不灵活，可伸缩。

## 对象语法

用法：`entry: {[entryChunkName: string]: string|Array<string>}`

**webpack.config.js**

```
const config = {
    entry: {
        app: './src/app.js',
        vandor: './src/vendors.js'
    }
};
```

对象语法更加复杂。但是，这是一种最好的可扩展的定义`entry/entries`属性的方法。

--------------------------------------------------------------------------------

"可扩展的webpack配置"可以被复用，并且可以和其他的部分配置结合。这是一项非常受欢迎的技术，它被用来将生产环境，构建环境和运行时环境进行拆分。它们可以通过[webpack-merge](https://github.com/survivejs/webpack-merge)进行合并。

--------------------------------------------------------------------------------

## 场景

以下是一个入口点配置的列表和它们的真实使用案例：

### 分离应用程序和第三方扩展入口点

**webpack.config.js**

```
const config = {
    entry: {
        app: './src/app.js',
        vendors: './src/vendors.js'
    }
};
```

**这是什么？**这告诉webpack从app.js和vendors.js去创建依赖图解。这些图解是完全分离相互独立的（在每一个捆绑中都有一个webpack bootstrap）。通常可以在单页应用程序中看到仅有一个入口点（不包括第三方扩展）.

**为什么？**这个设置将允许你去利用`CommonsChunkPlugins`插件提取任何第三方扩展到指定的捆绑束中，通过调用`__webpack_require_()`去进行替换操作。如果你的应用程序捆绑束中没有第三方代码，你就可以利用浏览器的缓存机制。

### 多页应用程序

**webpack.config.js**

```
const config = {
    entry: {
        pageOne: './src/pageOne/index.js',
        pageTwo: './src/pageTwo/index.js',
        pageThree: './src/pageThree/index.js'
    }
};
```

**这是什么？**我们告诉webpack我们想要三个独立的依赖图解（像上面的例子）

**为什么？**在多页面应用程序中，服务器将抓取一个新页面。这个页面重新加载这个新文档和静态资源。但是，这给我们一个机会去做多页面的事情：

- 用`CommonsChunkPlugins`在应用程序中共享捆绑束。多页应用重用大量的代码和模块得益于这些技术。

--------------------------------------------------------------------------------

根据经验：每一个html文档使用一个入口点。

--------------------------------------------------------------------------------
